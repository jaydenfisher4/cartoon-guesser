<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preferences - Cartoon Guesser</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        html { background: linear-gradient(135deg, #2a2a2a, #1f2a44); height: 100%; overflow-y: scroll; scrollbar-width: thin; scrollbar-color: #00ccff #252525; }
        html::-webkit-scrollbar { width: 12px; }
        html::-webkit-scrollbar-track { background: #252525; border-radius: 6px; }
        html::-webkit-scrollbar-thumb { background: #00ccff; border-radius: 6px; }
        html::-webkit-scrollbar-thumb:hover { background: #00b3e6; }
        body { font-family: 'Roboto', sans-serif; color: #e0e0e0; text-align: center; margin: 0; padding: 20px; min-height: 100vh; }
        h1 { color: #00ccff; font-size: 2.5em; margin-bottom: 20px; text-shadow: 0 0 5px rgba(0, 204, 255, 0.5); }
        .pref-container { max-width: 800px; margin: 0 auto; padding: 20px; background: rgba(37, 37, 37, 0.85); border-radius: 10px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5); }
        form { display: flex; flex-direction: column; gap: 20px; }
        .section { text-align: left; }
        label { color: #b0b0b0; font-size: 1.1em; }
        select[multiple] { width: 100%; height: 200px; padding: 10px; background: #333333; border: 2px solid #404040; border-radius: 5px; color: #e0e0e0; }
        button { padding: 12px 24px; font-size: 1.1em; background-color: #00ccff; color: #1a1a1a; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background-color: #00b3e6; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0, 204, 255, 0.4); }
        a { color: #00ccff; text-decoration: none; font-size: 1.1em; margin-top: 15px; display: inline-block; }
        a:hover { color: #00b3e6; }
    </style>
</head>
<body>
    <div class="pref-container">
        <h1>Your Preferences</h1>
        <form method="post">
            {% csrf_token %}
            <div class="section">
                <label>Exclude Shows:</label>
                <select multiple name="excluded_shows">
                    {% for show in all_shows %}
                        <option value="{{ show }}" {% if show in preferences.excluded_shows_list %}selected{% endif %}>{{ show }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="section">
                <label>Exclude Characters:</label>
                <select multiple name="excluded_characters">
                    {% for character in all_characters %}
                        <option value="{{ character.name }}" {% if character.name in preferences.excluded_characters_list %}selected{% endif %}>{{ character.name }} ({{ character.show }})</option>
                    {% endfor %}
                </select>
            </div>
            <button type="submit">Save Preferences</button>
        </form>
        <a href="{% url 'index' %}">Back to Game</a>
    </div>
</body>
</html>